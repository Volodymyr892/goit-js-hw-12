{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-funtions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43948978-860dfecfaa788bc4b5c828749';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotosByQuery = (query = 'pug') => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY ,\n    query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`)\n  .then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n};","\n\nexport const createMarkupItem = images => {\n   \n    return images.map(\n       ({\n           webformatURL,\n           largeImageURL,\n           tags,\n           likes,\n           views,\n           comments,\n           downloads,\n       }) => { return`\n           <li class=\"item-list\">\n       <a href=\"${largeImageURL}\" class=\"item-list-link\">\n           <img class=\"item-list-img\"  height=\"152\"\n           width=\"300\" src=\"${webformatURL}\" alt=\"${tags}\">\n       </a>\n       <div class='markup-info'>\n           <div class=\"item-list-info-text\">\n               <h3 class=\"item-list-title\">Likes</h3>\n                   <p class=\"item-list-text\">${likes}</p>\n           </div>\n           <div class=\"item-list-info-text\">\n               <h3 class=\"item-list-title\">Views</h3>\n                   <p class=\"item-list-text\">${views}</p>\n           </div>\n           <div class=\"item-list-info-text\">\n               <h3 class=\"item-list-title\">Comments</h3>\n                   <p class=\"item-list-text\">${comments}</p>\n           </div>\n           <div class=\"item-list-info-text\">\n               <h3 class=\"item-list-title\">Downloads</h3>\n               <p class=\"item-list-text\">${downloads}</p>\n           </div>\n           </div>\n           </li>\n           `\n          }).join(\"\");\n       \n       };","import { fetchPhotosByQuery } from \"./js/pixabay-api\";\nimport { createMarkupItem } from \"./js/render-funtions\";\n\n\n\n// import SimpleLightbox from 'simplelightbimport iziToast from \"izitoast\";\n// import \"izitoast/dist/css/iziToast.min.css\";ox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\n const lightbox = new SimpleLightbox('ul.list a', {\n  captionsData: 'alt', \n  captionDelay: 250 ,\n  overlayOpacity: 0.8,\n})\n\nfunction onSearchFormSubmit(event){\n    \n    event.preventDefault();\n    const searchQuery = event.target.elements.searchKeyword.value.trim();\n   \n    if (searchQuery === '') {\n        galleryEl.innerHTML = '';\n        event.target.reset();\n        iziToast.show({\n          message: 'Input field can not be empty',\n          position: 'topRight',\n          timeout: 2000,\n          color: 'red',\n        });\n    \n        return;\n      }\n\n      galleryEl.innerHTML = '';\n      loaderEl.classList.remove('is-hidden');\n\n      fetchPhotosByQuery(searchQuery)\n    .then(imagesData => {\n      if (imagesData.total === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images for this query',\n          position: 'topRight',\n          timeout: 2000,\n          color: 'red',\n        });\n      }\n\n      galleryEl.innerHTML = createMarkupItem(imagesData.hits);\n      lightbox.refresh()\n      \n    })\n    .catch(error => console.log(error))\n    .finally(() => {\n      event.target.reset();\n      loaderEl.classList.add('is-hidden');\n    });\n}\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);"],"names":["API_KEY","BASE_URL","fetchPhotosByQuery","query","searchParams","response","createMarkupItem","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loaderEl","lightbox","onSearchFormSubmit","event","searchQuery","imagesData","error"],"mappings":"ssBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEJC,EAAqB,CAACC,EAAQ,QAAU,CACnD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKJ,EACL,MAAAG,EACA,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAY,EAAE,EACzC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,EClBaC,EAAmBC,GAErBA,EAAO,IACX,CAAC,CACG,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,IAAa;AAAA;AAAA,kBAEHL,CAAa;AAAA;AAAA,8BAEDD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKTC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAK;AAAA;AAAA;AAAA;AAAA,+CAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,2CAIZC,CAAS;AAAA;AAAA;AAAA;AAAA,YAKzC,EAAE,KAAK,EAAE,EC9BdC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAE7CC,EAAW,IAAI,eAAe,YAAa,CAChD,aAAc,MACd,aAAc,IACd,eAAgB,EAClB,CAAC,EAED,SAASC,EAAmBC,EAAM,CAE9BA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAE9D,GAAIC,IAAgB,GAAI,CACpBL,EAAU,UAAY,GACtBI,EAAM,OAAO,QACb,SAAS,KAAK,CACZ,QAAS,+BACT,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EAED,MACD,CAEDJ,EAAU,UAAY,GACtBC,EAAS,UAAU,OAAO,WAAW,EAErCf,EAAmBmB,CAAW,EAC/B,KAAKC,GAAc,CACdA,EAAW,QAAU,GACvB,SAAS,KAAK,CACZ,QAAS,4CACT,SAAU,WACV,QAAS,IACT,MAAO,KACjB,CAAS,EAGHN,EAAU,UAAYV,EAAiBgB,EAAW,IAAI,EACtDJ,EAAS,QAAS,CAExB,CAAK,EACA,MAAMK,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACbH,EAAM,OAAO,QACbH,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CACL,CACAF,EAAa,iBAAiB,SAAUI,CAAkB"}